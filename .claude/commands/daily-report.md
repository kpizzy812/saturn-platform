---
description: Генерация сценария видео-отчёта для тимлида на основе коммитов за сегодня
---

# Генератор видео-отчёта для тимлида

Arguments: $ARGUMENTS (опционально: дата в формате YYYY-MM-DD, если нужен отчёт за другой день)

## Цель

Создать сценарий для видео-ролика (до 5 минут), в котором fullstack-разработчик:
- Рассказывает о ВСЁМ что сделал (бэкенд, фронт, БД, API, бизнес-логика)
- Показывает на фронтенде результат работы как визуальное подтверждение

## Шаги анализа

### 1. Определить дату для отчёта
- Если `$ARGUMENTS` содержит дату → использовать её
- Иначе → использовать сегодняшнюю дату

### 2. Получить коммиты за день
```bash
git log --since="<дата> 00:00:00" --until="<дата> 23:59:59" --oneline --author="$(git config user.name)"
```

Если коммитов нет, попробовать без фильтра по автору:
```bash
git log --since="<дата> 00:00:00" --until="<дата> 23:59:59" --oneline
```

### 3. Детально изучить каждый коммит
Для каждого коммита выполнить:
```bash
git show <commit_hash> --stat
git show <commit_hash> --name-only
```

### 4. Проанализировать ВСЕ изменённые файлы

**Бэкенд (Laravel):**
- `app/Actions/` - бизнес-логика, новый функционал
- `app/Jobs/` - фоновые задачи
- `app/Models/` - модели данных, связи
- `app/Http/Controllers/` - API эндпоинты
- `app/Services/` - сервисы
- `app/Events/` - события
- `app/Policies/` - права доступа

**База данных:**
- `database/migrations/` - изменения структуры БД
- `database/seeders/` - тестовые данные

**API:**
- `routes/api.php` - новые маршруты API
- `routes/web.php` - веб-маршруты

**Фронтенд (React/TypeScript):**
- `resources/js/pages/` - страницы
- `resources/js/components/` - компоненты
- `resources/js/hooks/` - хуки
- `resources/js/types/` - типы данных

**Конфигурация:**
- `config/` - настройки
- `.env` изменения (без секретов!)

Для ключевых файлов прочитать diff:
```bash
git show <commit_hash> -- <file_path>
```

### 5. Сгруппировать изменения по фичам
Объединить связанные изменения бэкенда и фронта в единые "фичи".
Например: миграция + модель + контроллер + страница = "Добавлена система одобрения деплоев"

### 6. Определить что можно показать на фронте
Для каждой фичи найти:
- Какую страницу открыть
- Какие действия выполнить
- Что должен увидеть зритель

### 7. Сгенерировать сценарий

## Формат сценария

Сценарий должен содержать:

### Вступление (30 секунд)
- Приветствие
- Краткое перечисление основных достижений дня (1-3 пункта) на уровне бизнес-ценности

### Основная часть (3-4 минуты)
Для каждой реализованной фичи/задачи:
1. **Что сделано** - полное описание (бэкенд + фронт + БД если есть)
2. **Что показываем на экране** - конкретные действия в UI для демонстрации
3. **Что говорим** - объяснение простыми словами всей работы
4. **Результат** - что теперь могут делать пользователи

### Заключение (30 секунд)
- Резюме проделанной работы
- Что это даёт проекту/пользователям

## Требования к сценарию

1. **Простой язык** - понятно человеку без технического бэкграунда
2. **Фокус на результате** - не "добавил компонент", а "теперь можно видеть статус деплоя"
3. **Визуальность** - описывать что видно на экране
4. **Краткость** - весь ролик до 5 минут
5. **Структурированность** - чёткие переходы между темами

## Примеры формулировок

### Fullstack фича (бэкенд + БД + фронт)
❌ Плохо: "Создал миграцию для approval_status, добавил модель DeploymentApproval, написал контроллер с методами approve/reject, сделал React компонент с кнопками"
✅ Хорошо: "Добавил систему одобрения деплоев. Теперь перед выкаткой на продакшен нужно получить одобрение от тимлида. Покажу: вот деплой ждёт одобрения, нажимаю 'Одобрить' — и он запускается"

### API изменение
❌ Плохо: "Добавил эндпоинт POST /api/v1/deployments/{id}/approve с валидацией"
✅ Хорошо: "Теперь можно одобрять деплои через API — это пригодится для автоматизации"

### Бэкенд логика
❌ Плохо: "Реализовал Job для отправки нотификаций через очередь Redis"
✅ Хорошо: "Настроил уведомления на почту когда деплой ждёт одобрения"

### Исправление бага
❌ Плохо: "Пофиксил race condition в обработчике статусов контейнеров"
✅ Хорошо: "Исправил баг когда статус приложения иногда показывался неправильно"

## Выходной формат

```markdown
# Видео-отчёт за [дата]

## Краткая сводка
- [Фича 1]: краткое описание
- [Фича 2]: краткое описание
- ...

## Вступление
[Текст для произношения - приветствие и обзор]

## Сцена 1: [Название фичи/задачи]
**Что сделано:** [Полное описание - бэкенд, БД, API, фронт]
**На экране:** [Пошаговые действия для демонстрации]
**Текст:** [Что говорить во время показа]

## Сцена 2: [Название фичи/задачи]
**Что сделано:** [Полное описание]
**На экране:** [Пошаговые действия]
**Текст:** [Что говорить]

...

## Заключение
[Текст - резюме и ценность для проекта]

---
Примерное время: X минут
Затронутые части системы: [бэкенд/фронт/БД/API]
```

## ВАЖНО
- Анализировать ВСЕ изменения — бэкенд, фронт, миграции, API, конфиги
- Группировать связанные изменения в единую "фичу" (миграция + модель + контроллер + UI = одна сцена)
- Если за день нет коммитов — сообщить об этом
- Если изменения только бэкенд без UI — объяснять "за кадром" или показывать логи/API ответы
- Начинать с самых значимых бизнес-изменений
- НЕ упоминать технические детали (названия классов, методов, паттернов) — только результат для пользователя
