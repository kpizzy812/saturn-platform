# =============================================================================
# Saturn Platform - Development Environment Configuration
# =============================================================================
# Copy this file to /data/saturn/source/.env on your server
# Generate secrets: openssl rand -base64 32
# =============================================================================

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
APP_ID=saturn-dev
APP_NAME="Saturn Platform (Dev)"
APP_ENV=development
APP_DEBUG=true
APP_URL=http://YOUR_SERVER_IP:8000

# Generate with: php artisan key:generate --show
# Or: echo "base64:$(openssl rand -base64 32)"
APP_KEY=

# -----------------------------------------------------------------------------
# Server Identity (unique per environment)
# -----------------------------------------------------------------------------
# Generate unique UUID: uuidgen or cat /proc/sys/kernel/random/uuid
SERVER_UUID=

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------
DB_CONNECTION=pgsql
DB_HOST=saturn-db
DB_PORT=5432
DB_DATABASE=saturn
DB_USERNAME=saturn
# Generate: openssl rand -base64 24 | tr -dc 'a-zA-Z0-9' | head -c 32
DB_PASSWORD=

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------
REDIS_HOST=saturn-redis
REDIS_PORT=6379
# Generate: openssl rand -base64 24 | tr -dc 'a-zA-Z0-9' | head -c 32
REDIS_PASSWORD=

# Cache, Session, Queue
CACHE_DRIVER=redis
SESSION_DRIVER=redis
QUEUE_CONNECTION=redis

# -----------------------------------------------------------------------------
# WebSocket (Soketi)
# -----------------------------------------------------------------------------
BROADCAST_CONNECTION=pusher

PUSHER_HOST=saturn-realtime
PUSHER_PORT=6001
# Generate: openssl rand -hex 16
PUSHER_APP_ID=
PUSHER_APP_KEY=
PUSHER_APP_SECRET=
PUSHER_SCHEME=http

# Frontend (for Vite/React)
VITE_PUSHER_HOST="${PUSHER_HOST}"
VITE_PUSHER_PORT="${PUSHER_PORT}"
VITE_PUSHER_APP_KEY="${PUSHER_APP_KEY}"
VITE_PUSHER_SCHEME="${PUSHER_SCHEME}"

# -----------------------------------------------------------------------------
# Mail (optional for dev)
# -----------------------------------------------------------------------------
MAIL_MAILER=log
MAIL_HOST=
MAIL_PORT=587
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS="dev@saturn.local"
MAIL_FROM_NAME="${APP_NAME}"

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_CHANNEL=stack
LOG_LEVEL=debug

# -----------------------------------------------------------------------------
# Instance Settings
# -----------------------------------------------------------------------------
IS_REGISTRATION_ENABLED=true
IS_API_ENABLED=true

# -----------------------------------------------------------------------------
# Docker
# -----------------------------------------------------------------------------
REGISTRY_URL=ghcr.io
SATURN_IMAGE_TAG=main

# -----------------------------------------------------------------------------
# Ports
# -----------------------------------------------------------------------------
APP_PORT=8000
SOKETI_PORT=6001
SOKETI_METRICS_PORT=6002

# -----------------------------------------------------------------------------
# PHP Settings
# -----------------------------------------------------------------------------
PHP_MEMORY_LIMIT=512M
PHP_FPM_PM_CONTROL=dynamic
PHP_FPM_PM_START_SERVERS=2
PHP_FPM_PM_MIN_SPARE_SERVERS=1
PHP_FPM_PM_MAX_SPARE_SERVERS=5

# -----------------------------------------------------------------------------
# Debugging
# -----------------------------------------------------------------------------
SOKETI_DEBUG=true
TELESCOPE_ENABLED=false
